pipeline {
  agent any
  options { timestamps(); timeout(time: 5, unit: 'MINUTES') }
  stages {
    stage('Build') {
      steps{
      bat 'g++ calculator.cpp -o calculator.exe'
      bat 'echo Build complete. Output: calculator.exe'
    }
  }
    stage('Test') {
      steps{
        bat 'echo Running calculator tests...'
        bat 'echo 5 + 3 | .\\calculator.exe'
      }
      }
    stage('Docs') {
            steps {
                bat 'doxygen Doxyfile'
                bat 'echo Documentation generated in docs/html/'
            }
        }

        stage('Deploy') {
            steps {
                bat 'echo Deploying application...'
                bat 'copy calculator.exe C:\\deploy\\calculator.exe'
                bat 'echo Deploy finished.'
            }
        }

      }
    }
